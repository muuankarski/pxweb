<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>PX-Web Data by API — ApiData • pxweb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="PX-Web Data by API — ApiData" />
<meta property="og:description" content="A function to read PX-Web data into R via API. The example code reads data from the three national statistical institutes, Statistics Norway, Statistics Sweden and Statistics Finland." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pxweb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pxweb.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rOpenGov/pxweb">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>PX-Web Data by API</h1>
    <small class="dont-index">Source: <a href='https://github.com/rOpenGov/pxweb/blob/master/R/deprecated_ApiData.R'><code>R/deprecated_ApiData.R</code></a></small>
    <div class="hidden name"><code>ApiData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to read PX-Web data into R via API. The example code reads data from the three national statistical institutes, Statistics Norway, Statistics Sweden and Statistics Finland.</p>
    </div>

    <pre class="usage"><span class='fu'>ApiData</span>(
  <span class='no'>urlToData</span>,
  <span class='no'>...</span>,
  <span class='kw'>getDataByGET</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>returnMetaData</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>returnMetaValues</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>returnMetaFrames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>returnApiQuery</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>defaultJSONquery</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>2</span>, -<span class='fl'>1</span>),
  <span class='kw'>verbosePrint</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>use_factors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>urlType</span> <span class='kw'>=</span> <span class='st'>"SSB"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>urlToData</th>
      <td><p>url to data or id of SSB data</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>specification of JSON query for each variable</p></td>
    </tr>
    <tr>
      <th>getDataByGET</th>
      <td><p>When TRUE, readymade dataset by GET - works only for Statistics Norway readymade datasets</p></td>
    </tr>
    <tr>
      <th>returnMetaData</th>
      <td><p>When TRUE, metadata returned</p></td>
    </tr>
    <tr>
      <th>returnMetaValues</th>
      <td><p>When TRUE, values from metadata returned</p></td>
    </tr>
    <tr>
      <th>returnMetaFrames</th>
      <td><p>When TRUE, values and valueTexts from metadata returned as data frames</p></td>
    </tr>
    <tr>
      <th>returnApiQuery</th>
      <td><p>When TRUE, JSON query returned</p></td>
    </tr>
    <tr>
      <th>defaultJSONquery</th>
      <td><p>specification for variables not included in ...</p></td>
    </tr>
    <tr>
      <th>verbosePrint</th>
      <td><p>When TRUE, printing to console</p></td>
    </tr>
    <tr>
      <th>use_factors</th>
      <td><p>Parameter to <code>fromJSONstat</code> defining whether dimension categories should be factors or character objects.</p></td>
    </tr>
    <tr>
      <th>urlType</th>
      <td><p>Parameter defining how url is constructed from id number. Currently two Statistics Norway possibilities: "SSB" (Norwegian) or "SSBen" (English)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list of two data sets (label and id)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Each variable is specified by using the variable name as input parameter. The value can be specified as:  
TRUE (all), FALSE (eliminated), imaginary value (top), variable indices, 
original variable id's (values) or variable labels (valueTexts). 
Reversed indices can be specified as negative values. 
Indices outside the range are removed. Variables not specified is set to the value of defaultJSONquery 
whose default means the first and the two last elements.</p>
<p>The value can also be specified as a (unnamed) two-element list corresponding to the two 
query elements, filter and values. In addition it possible with a single-element list.
Then filter is set to 'all'. See examples.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'>##### Readymade dataset by GET - works only for Statistics Norway readymade datasets</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/dataset/1066.json?lang=en"</span>, <span class='kw'>getDataByGET</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]]  <span class='co'># The label version of the data set</span>
<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>2</span>]]  <span class='co'># The id version of the data set</span>

<span class='co'>##### Special output</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/09941"</span>, <span class='kw'>returnMetaData</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)   <span class='co'># meta data</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/09941"</span>, <span class='kw'>returnMetaValues</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># meta data values</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/09941"</span>, <span class='kw'>returnMetaFrames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># list of data frames</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/09941"</span>, <span class='kw'>returnApiQuery</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)   <span class='co'># query using defaults</span>


<span class='co'>##### Ordinary use</span>

<span class='co'># NACE2007 as imaginary value (top 10), ContentsCode as TRUE (all), Tid is default</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/09941"</span>, <span class='kw'>NACE2007</span> <span class='kw'>=</span> <span class='fl'>10i</span>, <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Two specified and the last is default (as above) – in Norwegian change en to no in url</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/no/table/09941"</span>, <span class='kw'>NACE2007</span> <span class='kw'>=</span> <span class='fl'>10i</span>, <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Number of residents (bosatte) last year, each region</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/04861"</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
        <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='st'>"Bosatte"</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>1i</span>)

<span class='co'># Number of residents (bosatte) each year, total</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/04861"</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
        <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='st'>"Bosatte"</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Some years</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/04861"</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
        <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='st'>"Bosatte"</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>5</span>, -<span class='fl'>1</span>))

<span class='co'># Two selected regions</span>
<span class='fu'>ApiData</span>(<span class='st'>"http://data.ssb.no/api/v0/en/table/04861"</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>),
        <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>1</span>))


<span class='co'>##### Using id instead of url, unnamed input and verbosePrint</span>
<span class='fu'>ApiData</span>(<span class='fl'>4861</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>), <span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>1</span>)) <span class='co'># same as below </span>
<span class='fu'>ApiData</span>(<span class='fl'>4861</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>), <span class='kw'>ContentsCode</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>Tid</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>1</span>))
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='fu'>ApiData</span>(<span class='fl'>4861</span>,<span class='kw'>returnMetaFrames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))  <span class='co'># these names from metadata assumed two lines above</span>
<span class='fu'>ApiData</span>(<span class='st'>"4861"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>), <span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, -<span class='fl'>1</span>),  <span class='kw'>urlType</span><span class='kw'>=</span><span class='st'>"SSBen"</span>)
<span class='fu'>ApiData</span>(<span class='st'>"01222"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>, <span class='fl'>9</span>:<span class='fl'>11</span>), <span class='fl'>2i</span>, <span class='kw'>verbosePrint</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'>ApiData</span>(<span class='fl'>1066</span>, <span class='kw'>getDataByGET</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,  <span class='kw'>urlType</span><span class='kw'>=</span><span class='st'>"SSB"</span>)
<span class='fu'>ApiData</span>(<span class='fl'>1066</span>, <span class='kw'>getDataByGET</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,  <span class='kw'>urlType</span><span class='kw'>=</span><span class='st'>"SSBen"</span>)


<span class='co'>##### Advanced use using list. See details above. Try returnApiQuery=TRUE on the same examples. </span>
<span class='fu'>ApiData</span>(<span class='fl'>4861</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"03*"</span>), <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>5i</span>) <span class='co'># "all" can be dropped from the list</span>
<span class='fu'>ApiData</span>(<span class='fl'>4861</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"all"</span>, <span class='st'>"03*"</span>), <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>5i</span>)  <span class='co'># same as above</span>
<span class='fu'>ApiData</span>(<span class='fl'>04861</span>, <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='st'>"item"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"0811"</span>, <span class='st'>"0301"</span>)), <span class='kw'>ContentsCode</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>5i</span>)


<span class='co'>##### Using data from SCB to illustrate returnMetaFrames</span>
<span class='no'>urlSCB</span> <span class='kw'>&lt;-</span> <span class='st'>"http://api.scb.se/OV0104/v1/doris/sv/ssd/BE/BE0101/BE0101A/BefolkningNy"</span>
<span class='no'>mf</span> <span class='kw'>&lt;-</span> <span class='fu'>ApiData</span>(<span class='no'>urlSCB</span>, <span class='kw'>returnMetaFrames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='no'>mf</span>)              <span class='co'># All the variable names</span>
<span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>mf</span>, <span class='st'>"text"</span>)       <span class='co'># Corresponding text information as attribute</span>
<span class='no'>mf</span>$<span class='no'>ContentsCode</span>        <span class='co'># Data frame for the fifth variable (alternatively  mf[[5]])</span>
<span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>mf</span>,<span class='st'>"elimination"</span>) <span class='co'># Finding variables that can be eliminated</span>
<span class='fu'>ApiData</span>(<span class='no'>urlSCB</span>,        <span class='co'># Eliminating all variables that can be eliminated (line below)</span>
        <span class='kw'>Region</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>Civilstand</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>Alder</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,  <span class='kw'>Kon</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
        <span class='kw'>ContentsCode</span>  <span class='kw'>=</span> <span class='st'>"BE0101N1"</span>, <span class='co'># Selecting a single ContentsCode by text input</span>
        <span class='kw'>Tid</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)                 <span class='co'># Choosing all possible values of Tid.</span>


<span class='co'>##### Using data from Statfi to illustrate use of input by variable labels (valueTexts)</span>
<span class='no'>urlStatfi</span> <span class='kw'>&lt;-</span> <span class='st'>"http://pxnet2.stat.fi/PXWeb/api/v1/en/StatFin/vrm/kuol/statfin_kuol_pxt_010.px"</span>
<span class='fu'>ApiData</span>(<span class='no'>urlStatfi</span>, <span class='kw'>returnMetaFrames</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)$<span class='no'>Tiedot</span>
<span class='fu'>ApiData</span>(<span class='no'>urlStatfi</span>, <span class='kw'>Alue</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>Vuosi</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>Tiedot</span> <span class='kw'>=</span> <span class='st'>"Population"</span>)  <span class='co'># same as Tiedot = '15' </span>
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mans Magnusson, Markus Kainu, Janne Huovari, Leo Lahti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


